<div class="card">
    <h1 class="title">Registrer Product</h1>
    <form [formGroup]="detailsForm" (ngSubmit)="addProductsToDetails()">
    <input  type="text" placeholder="CÃ³digo del producto"  [(ngModel)]="codeProduct" formControlName="Code" >
    <input type="number" placeholder="Cantidad"  [(ngModel)]="quantity" formControlName="Quantity" min="0"  >
    <button type="submit" class="btn-pro"  value="Send" >Send</button>
    </form>
    </div>

    <div class="table-wrapper"> 
        <table class="fl-table">
            <thead>
            <tr>
                <th>Codigo</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Subtotal</th>
                <th>Eliminar</th>
                <th>Actualizar</th>
            </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of products">
                    <td>{{item.Code}}</td>
                    <td>{{item.Name}}</td>
                    <td>{{item.Price}}</td>
                    <td><input type="number" value={{item.Quantity}} min="1" name="quantityDetails" #quantityDetails ></td>
                    <td>{{item.Price * item.Quantity | currency}}</td>
                    <td class="icons"><button class="delete" (click)="deleteProductToDetails(item.Code)"><i class="fa-solid fa-trash" ></i></button></td>
                    <td><button mat-raised-button color="edit" (click)="UpdateQuantity(item.Code, quantityDetails.value)">Actualizar</button></td>
                </tr>
            </tbody>
            </table>
            
    </div>
    <div class="total">
        <h1 class="totali">Total a pagar: {{total_price | currency}}</h1>
    </div>
    <button type="submit" (click)="openDialog()"></button>
    <button type="submit" (click)="addInvoices()">Crear factura</button>

